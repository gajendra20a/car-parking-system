(this.webpackJsonpparking_lot=this.webpackJsonpparking_lot||[]).push([[0],{24:function(e,a,t){e.exports=t(53)},29:function(e,a,t){},41:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(15),c=t.n(o),l=(t(29),t(23)),s=t(8),m=t(5),i=t(21),u=t.n(i),d=(t(41),t(22).initializeApp({apiKey:"AIzaSyCwNZedmMaJx7UF9I2w0O_OurHvEGz4tYQ",authDomain:"parking-lot-245b7.firebaseapp.com",databaseURL:"https://parking-lot-245b7.firebaseio.com",projectId:"parking-lot-245b7",storageBucket:"parking-lot-245b7.appspot.com",messagingSenderId:"999352749961",appId:"1:999352749961:web:7c735ae6731785cb079b58"}).database().ref()),p=t(12),f=function(e){var a={CarNo:"",Color:"",SlotNo:"",DateTime:""},t=Object(n.useState)(a),o=Object(m.a)(t,2),c=o[0],l=o[1];Object(n.useEffect)((function(){l(Object(s.a)({},a))}),[e.parkedSlots]);var i=function(e){var a=e.target,t=a.name,n=a.value;l(Object(s.a)(Object(s.a)({},c),{},Object(p.a)({},t,n)))},u=Object.values(e.parkedSlots).map((function(e){return parseInt(e.SlotNo)})),d=[1,2,3,4,5,6,7,8,9,10].filter((function(e){return!u.includes(e)}));return console.log(d),r.a.createElement("form",{autoComplete:"off",onSubmit:function(a){e.setAddCar(!1),a.preventDefault(),e.parkCar(c)}},r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("input",{className:"form-control",name:"CarNo",placeholder:"Car No",value:c.CarNo,onChange:i,required:!0})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group input-group col-md-6"},r.a.createElement("input",{className:"form-control",name:"Color",placeholder:"Color",value:c.Color,onChange:i,required:!0})),r.a.createElement("div",{className:"form-group input-group col-md-6"},r.a.createElement("select",{id:"select",name:"SlotNo",className:"form-control",onChange:i,required:!0},r.a.createElement("option",{value:""},"Choose Slot"),d.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"DateTime",placeholder:"Date and Time",value:c.DateTime,onChange:i,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Park Car",className:"btn btn-primary btn-block"})))},E=function(){var e=Object(n.useState)({}),a=Object(m.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(""),i=Object(m.a)(c,2),p=i[0],E=i[1],b=Object(n.useState)(""),v=Object(m.a)(b,2),g=v[0],N=v[1],k=Object(n.useState)("desc"),C=Object(m.a)(k,2),h=C[0],O=C[1],S=Object(n.useState)(""),j=Object(m.a)(S,2),w=j[0],y=j[1],D=r.a.useState(!1),T=Object(m.a)(D,2),P=T[0],A=T[1];Object(n.useEffect)((function(){d.child("parking").on("value",(function(e){null!=e.val()&&o(Object(s.a)({},e.val()))}))}),[]);var I=Object.keys(t),L=I.filter((function(e){return t[e].CarNo.toLowerCase().includes(p.toLowerCase())}));L=L.filter((function(e){return t[e].Color.toLowerCase().includes(w.toLowerCase())}));var q=Object(l.a)(new Set(I.map((function(e){return t[e].Color})))),x=L.length;return""!==g&&L.sort((function(e,a){return t[e][g]<t[a][g]?"asc"===h?-1:1:t[e][g]>t[a][g]?"asc"===h?1:-1:0})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"parking-lot-space"},r.a.createElement("h2",{className:"text-center"},"Automated Parking Lot System")),r.a.createElement("div",{className:""},r.a.createElement(u.a,{isOpen:P,onRequestClose:function(){A(!1)},style:{content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}}},r.a.createElement("div",{className:"col-md-12 park-car-btn"},r.a.createElement("h2",{className:"text-center"},"Park a Car"),r.a.createElement(f,{setAddCar:A,parkedSlots:t,parkCar:function(e){d.child("parking").push(e,(function(e){return e&&console.log(e)}))}})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"total-cars-parked"},r.a.createElement("div",null,"Total Parking Slots - ",r.a.createElement("span",{className:"car-parked-color"},"10")),r.a.createElement("div",null,"Available Parking Slot - ",r.a.createElement("span",{className:"car-parked-color"},10-x))),r.a.createElement("div",{className:"park-car-btn-div"},r.a.createElement("button",{className:"btn btn-danger btn park-car-btn",onClick:function(){x<10?A(!0):window.confirm("Parking is full")}},"Park a Car")),r.a.createElement("div",{className:"search-car-div"},r.a.createElement("form",{className:"form-inline search-car"},r.a.createElement("input",{className:"form-control mr-sm-2 search-car-form-input",type:"text",placeholder:"TYPE REG NO",onChange:function(e){return E(e.target.value)}}),r.a.createElement("select",{id:"select",className:"form-control search-car-form-input",onChange:function(e){return y(e.target.value)}},r.a.createElement("option",{value:""},"Choose Color"),q.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)}))))),r.a.createElement("table",{className:"table table-stripped parked-cars-table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",{className:"car-setting",onClick:function(){return O("asc"===h?"desc":"asc"),N("CarNo")}},"Car No"),r.a.createElement("th",{onClick:function(){return O("asc"===h?"desc":"asc"),N("Color")}},"Color"),r.a.createElement("th",{onClick:function(){return O("asc"===h?"desc":"asc"),N("SlotNo")}},"Slot No"),r.a.createElement("th",{onClick:function(){return O("asc"===h?"desc":"asc"),N("DateTime")}},"Date Time"),r.a.createElement("th",null))),r.a.createElement("tbody",null,L.map((function(e,a){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,a+1),r.a.createElement("td",{className:"car-setting"},t[e].CarNo),r.a.createElement("td",null,t[e].Color),r.a.createElement("td",null,t[e].SlotNo),r.a.createElement("td",null,t[e].DateTime),r.a.createElement("td",null,r.a.createElement("input",{type:"submit",value:"Remove",className:"btn btn-warning btn-sm",onClick:function(){return a=e,void(window.confirm("Are you sure to take car out of parking?")&&d.child("parking/".concat(a)).remove((function(e){return e&&console.log(e)})));var a}})))})))))))};var b=function(){return r.a.createElement("div",{className:"col-md-10 offset-md-1"},r.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.d30ad3ed.chunk.js.map